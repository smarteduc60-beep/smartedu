# ๐ ุฎุทุฉ ุชูููุฐ ุงูุฑุณูู ุงูููุฏุณูุฉ ุงูุชูุงุนููุฉ

ูุฐุง ุงููุณุชูุฏ ููุถุญ ุฎุทุฉ ุงูุนูู ุงูุชูุตูููุฉ ูุชูููุฐ ููุฒุฉ ุฅูุดุงุก ูุนุฑุถ ุงูุฑุณูู ุงูููุฏุณูุฉ ุงูุชูุงุนููุฉ ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ุจูุงุกู ุนูู ุงููููููุฉ ุงูุชู ุชู ุงูุงุชูุงู ุนูููุง (DSL ุจุตูุบุฉ JSON).

---

## ๐ฏ ุงููุฏู ุงูุฃุณุงุณู

ุชูููู ุงููุธุงู ูู ุชูููุฏ ูุนุฑุถ ุฑุณูู ููุฏุณูุฉ ุชูุงุนููุฉ ููุฅุฌุงุจุงุช ุงููููุฐุฌูุฉุ ูุน ุงูุญูุงุธ ุนูู ุงูุจุณุงุทุฉ ูุงูุฃุฏุงุก ุงูุนุงูู ููุงุจููุฉ ุงูุชูุณุน.

---

## ๐๏ธ ุงููููููุฉ ุงููุนุชูุฏุฉ

1.  **ูุบุฉ ุงูุฃูุงูุฑ (DSL):** ุณูููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุจุชูููุฏ ูุตูููุฉ ูู ุงูุฃูุงูุฑ ุจุตูุบุฉ `JSON` ุชุตู ุฎุทูุงุช ุงูุฑุณู.
2.  **ุงูุชุฎุฒูู:** ุณูุชู ุชุฎุฒูู ูุฐุง ุงูู `JSON` ูู ุญูู ุฌุฏูุฏ ูู ุฌุฏูู `Exercise` ุจูุงุนุฏุฉ ุงูุจูุงูุงุช.
3.  **ุงูุนุฑุถ:** ุณูุชู ุจูุงุก ูููู React ูุชุฎุตุต (`<InteractiveGeometryCanvas />`) ูููู ุจูุฑุงุกุฉ ูุตูููุฉ ุงูุฃูุงูุฑ ูุฑุณููุง ุจุงุณุชุฎุฏุงู ููุชุจุฉ `JSXGraph`.

---

## ๐บ๏ธ ูุฑุงุญู ุงูุชูููุฐ

### ุงููุฑุญูุฉ ุงูุฃููู: ุงููุงุฌูุฉ ุงูุฎูููุฉ (Backend) ููุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงููุฏู:** ุชููุฆุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ ูุชุฎุฒูู ูุงุณุชูุจุงู ุฃูุงูุฑ ุงูุฑุณู.

*   **ุงูุฎุทูุฉ 1.1: ุชุนุฏูู ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช (`schema.prisma`)**
    *   ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ ุฅูู ููุฏูู `Exercise` ูุชุฎุฒูู ุฃูุงูุฑ ุงูุฑุณู.
    *   ุงุณู ุงูุญูู ุงูููุชุฑุญ: `geometryCommands`.
    *   ููุน ุงูุญูู: `Json`. ูุฐุง ุงูููุน ูุซุงูู ูุชุฎุฒูู ุจูุงูุงุช `JSON` ูุงูุจุญุซ ูููุง ูุณุชูุจูุงู.

*   [x] **ุงูุฎุทูุฉ 1.2: ุชุญุฏูุซ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ููุชูุงุฑูู**
    *   [x] ุชุนุฏูู ูุณุงุฑ `POST /api/exercises` ู `PATCH /api/exercises/[id]` ููุจูู ุงูุญูู ุงูุฌุฏูุฏ `geometryCommands`.
    *   [ ] ุฅุถุงูุฉ ุชุญูู (Validation) ููุชุฃูุฏ ูู ุฃู ุงูุจูุงูุงุช ุงููุงุฏูุฉ ูู ูุฐุง ุงูุญูู ูู `JSON` ุตุงูุญ (ุฃู ูุตูููุฉ).

*   [x] **ุงูุฎุทูุฉ 1.3: ุชุญุฏูุซ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ููุฐูุงุก ุงูุงุตุทูุงุนู**
    *   [x] ุชุนุฏูู ูุณุงุฑ `POST /api/ai/generate-answer`.
    *   [x] ุชุบููุฑ ุงูู `prompt` ุงูุฎุงุต ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ููููู ุจุชูููุฏ "ูุตูููุฉ ุฃูุงูุฑ JSON" ุจุฏูุงู ูู ููุฏ SVG.
    *   [x] ุชุฒููุฏ ุงูู `prompt` ุจุฃูุซูุฉ ูุงุถุญุฉ (Few-shot examples) ุนู ุงูุชูุณูู ุงููุทููุจ ูุถูุงู ุฏูุฉ ุงููุฎุฑุฌุงุช.

---

### ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend) - ูููู ุงูุนุฑุถ

**ุงููุฏู:** ุจูุงุก ุงููููู ุงููุณุคูู ุนู ุชุฑุฌูุฉ ุฃูุงูุฑ `JSON` ุฅูู ุฑุณู ูุฑุฆู.

*   [x] **ุงูุฎุทูุฉ 2.1: ุงุฎุชูุงุฑ ูุชุซุจูุช ููุชุจุฉ ุงูุฑุณู**
    *   [x] ุชุซุจูุช ููุชุจุฉ `JSXGraph`.
    *   `npm install jsxgraph` (ุชู ุงุนุชูุงุฏ ุงูุงุณุชุฎุฏุงู ุงููุจุงุดุฑ ูู JSXGraph ูุชูุงูู ุฃูุถู ูุน Next.js)

*   [x] **ุงูุฎุทูุฉ 2.2: ุฅูุดุงุก ุงููููู `<InteractiveGeometryCanvas />`**
    *   [x] ุฅูุดุงุก ููู ุฌุฏูุฏ ูู `src/components/geometry/InteractiveGeometryCanvas.tsx`.
    *   [x] ุณูุณุชูุจู ุงููููู `prop` ูุงุญุฏ: `commands: Command[]`.

*   [x] **ุงูุฎุทูุฉ 2.3: ุจูุงุก ููุทู "ุงููุชุฑุฌู" (Interpreter)**
    *   [x] ุฏุงุฎู ุงูููููุ ุชู ุฅูุดุงุก ุฏุงูุฉ `renderFromCommands` ุชููู ุจุงููุฑูุฑ ุนูู ูุตูููุฉ ุงูุฃูุงูุฑ.
    *   [x] ุงุณุชุฎุฏุงู `switch` ูุฑุจุท ูู `command` (ูุซู `"create_point"`) ุจุฏุงูุฉ ููุงุจูุฉ ูู `JSXGraph`.
    *   [x] ุงุณุชุฎุฏุงู `Map` ูุชุฎุฒูู ุงูุนูุงุตุฑ ุงูููุดุฃุฉ ุจูุนุฑูุงุชูุง (`id`) ููุณูู ุงูุฑุฌูุน ุฅูููุง ูู ุงูุฃูุงูุฑ ุงููุงุญูุฉ.

*   [x] **ุงูุฎุทูุฉ 2.4: ุงูุชุนุงูู ูุน ุงูุชูุงุนู ูุฏุนู ุฃูุงูุฑ ุฅุถุงููุฉ**
    *   [x] ุชูุนูู ุฎุงุตูุฉ ุงูุณุญุจ ูุงูุฅููุงุช (Drag & Drop) ููููุงุท ุงูุญุฑุฉ (`isFree: true`).
    *   [x] ุฅุถุงูุฉ ุฏุนู ูุฃูุงูุฑ `create_line`, `create_circle`, `create_perpendicular` ูุบูุฑูุง.

---

### ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงูุชูุงูู ูุน ูุงุฌูุงุช ุงููุณุชุฎุฏู

**ุงููุฏู:** ุฏูุฌ ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ ูู ุตูุญุงุช ุฅูุดุงุก ูุนุฑุถ ุงูุชูุงุฑูู.

*   [x] **ุงูุฎุทูุฉ 3.1: ุตูุญุฉ ุฅูุดุงุก/ุชุนุฏูู ุงูุชูุฑูู (ูุงุฌูุฉ ุงููุนูู)**
    *   [x] ูู `lessons/[id]/edit/page.tsx` ู `create/page.tsx`.
    *   [x] ุฅุถุงูุฉ ุฒุฑ "ุชูููุฏ ุฑุณู ููุฏุณู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู" ุจุฌุงูุจ ูุญุฑุฑ ุงูุณุคุงู.
    *   [x] ุนูุฏ ุงูููุฑุ ูุชู ุงุณุชุฏุนุงุก `POST /api/ai/generate-answer` ูุน ูุต ุงูุณุคุงู.
    *   [x] ุนุฑุถ ุงูู `JSON` ุงููุงุชุฌ ูู ุญูู `<textarea>` ูุน ูุนุงููุฉ ุญูุฉ.
    *   [x] ุนูุฏ ุญูุธ ุงูุชูุฑููุ ูุชู ุฅุฑุณุงู ูุฐุง ุงูู `JSON` ุถูู ุจูุงูุงุช ุงูุชูุฑูู ุฅูู ุงูู Backend.

*   [x] **ุงูุฎุทูุฉ 3.2: ุตูุญุฉ ุนุฑุถ ุงูุฏุฑุณ (ูุงุฌูุฉ ุงูุทุงูุจ)**
    *   [x] ูู `lessons/[id]/page.tsx` ูุงูููููุงุช ุงููุฑุนูุฉ (`MainExercise`, `SupportWithResultsExercise`, `SupportOnlyExercise`).
    *   [x] ุนูุฏ ุนุฑุถ ุชูุฑููุ ูุชู ุงูุชุญูู ูู ูุฌูุฏ ุจูุงูุงุช ูู ุญูู `geometryCommands`.
    *   [x] ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ููุฌูุฏุฉุ ูุชู ุงุณุชุฏุนุงุก ุงููููู `<InteractiveGeometryCanvas />` ูุชูุฑูุฑ ูุตูููุฉ ุงูุฃูุงูุฑ ุฅููู.

---

### ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ: ุงูุงุฎุชุจุงุฑ ูุงูุชุญุณูู

**ุงููุฏู:** ุงูุชุฃูุฏ ูู ุฃู ุงูููุฒุฉ ุชุนูู ุจุดูู ุตุญูุญ ููุณุชูุฑ.

*   [x] **ุงูุฎุทูุฉ 4.1: ุงุฎุชุจุงุฑ ูุญุฏุงุช (Unit Testing)**
    *   [x] ูุตู ููุทู ุงููุชุฑุฌู ุฅูู `src/lib/geometry-interpreter.ts`.
    *   [x] ุฅูุดุงุก ุงุฎุชุจุงุฑุงุช ูุญุฏุงุช ูู `src/lib/geometry-interpreter.test.ts` ุจุงุณุชุฎุฏุงู Mocking.

*   **ุงูุฎุทูุฉ 4.2: ุงุฎุชุจุงุฑ ุงูุชูุงูู (Integration Testing)**
    *   ุฅูุดุงุก ุชูุฑูู ููุฏุณู ูุงูู ูู ุงูุตูุฑ.
    *   ุชูููุฏ ุงูุฑุณู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู.
    *   ุญูุธ ุงูุชูุฑูู.
    *   ุนุฑุถ ุงูุชูุฑูู ูู ุญุณุงุจ ุทุงูุจ ูุงูุชุฃูุฏ ูู ุฃู ุงูุฑุณู ูุธูุฑ ุจุดูู ุตุญูุญ ูุชูุงุนูู.

*   **ุงูุฎุทูุฉ 4.3: ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก**
    *   ููุงุณ ุชุฃุซูุฑ ููุชุจุฉ `JSXGraph` ุนูู ุณุฑุนุฉ ุชุญููู ุงูุตูุญุฉ.
    *   ุงูุชุฃูุฏ ูู ุฃู ุงูุชูุงุนู ูุน ุงูุฑุณู (ุชุญุฑูู ุงูููุงุท) ุณูุณ ููุง ูุณุจุจ ุจุทุก.

*   **ุงูุฎุทูุฉ 4.4: ุงูุชูุณุนุฉ ุงููุณุชูุจููุฉ (Refinement)**
    *   ุจุนุฏ ูุฌุงุญ ุงูู MVPุ ูููู ุฅุถุงูุฉ ุฃูุงูุฑ ุฌุฏูุฏุฉ (ูุซู ููุงุณ ุงูุฒูุงูุงุ ุฑุณู ุงูููุตูุงุช) ูุชุญุฏูุซ ุงููุชุฑุฌู ูุฏุนููุง.

---

# ๐ ุฎุทุฉ ุชูุซูู ูููููุฉ ุงููุดุฑูุน (System Documentation)

## ๐ฏ ุงููุฏู
ุฅูุดุงุก ูุฑุฌุน ุชููู ุดุงูู ููุถุญ ูุณุงุฑุงุช ุงููููุงุชุ ูุณุคูููุงุชูุงุ ูุงููุธุงุฆู ุงูุจุฑูุฌูุฉ (Functions) ุงูููุฌูุฏุฉ ุจุฏุงุฎููุงุ ูุถูุงู ุณูููุฉ ุงูุตูุงูุฉ ูููู ุงููุนุฑูุฉ.

## ๐๏ธ ุงูุชูููุฐ
1.  **ุชุญููู ุงููููุงุช**: ูุฑุงุฌุนุฉ ุงูููุฏ ุงููุตุฏุฑู ูู `src`.
2.  **ุชุตููู ุงูููููุงุช**: ูุตู ุงูููุชุจุงุช (`lib`)ุ ุงูุฎุทุงูุงุช (`hooks`)ุ ูุงููุงุฌูุฉ ุงูุฎูููุฉ (`api`).
3.  **ุงูุชูุซูู**: ูุชุงุจุฉ ุงูุชูุงุตูู ูู ููู `structure.md` ุจุชูุณูู ูุงุถุญ.

## โ ุงูุญุงูุฉ
- [x] ุฅูุดุงุก ููู `structure.md` ูุญุชูู ุนูู ุชุญููู ุงููููุงุช ุงูุญุงููุฉ.
