# โ ููุฎุต ุงูุชุทููุฑ - ุงููุฑุญูุฉ 1: ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุตุงุฏูุฉ

## ๐ ูุง ุชู ุฅูุฌุงุฒู

### 1. โ ุฅุนุฏุงุฏ Prisma ORM ูุน MySQL

#### ุงููููุงุช ุงููููุดุฃุฉ:
- โ `prisma/schema.prisma` - Schema ูุงูู ูุฌููุน ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ `prisma/seed.ts` - ุจูุงูุงุช ุฃูููุฉ ููุงุฎุชุจุงุฑ
- โ `src/lib/prisma.ts` - Prisma Client singleton
- โ `prisma.config.ts` - ุฅุนุฏุงุฏุงุช Prisma

#### Schema ูุชุถูู:
- โ ุฌุฏูู ุงูุฃุฏูุงุฑ (6 ุฃุฏูุงุฑ)
- โ ุฌุฏูู ุงููุณุชุฎุฏููู ูุน ุชูุงุตูููู
- โ ุงููุฑุงุญู ูุงููุณุชููุงุช ูุงูููุงุฏ
- โ ุงูุฏุฑูุณ ูุงูุชูุงุฑูู
- โ ุงูุฅุฌุงุจุงุช ูุงูุชููููุงุช
- โ ุงูุฑุณุงุฆู
- โ ุงูุฑูุงุจุท (ูุนูู-ุทุงูุจุ ููู ุฃูุฑ-ุงุจู)
- โ ุฌุฏุงูู NextAuth (Account, Session, VerificationToken)

### 2. โ ุฅุนุฏุงุฏ NextAuth.js ูููุตุงุฏูุฉ

#### ุงููููุงุช ุงููููุดุฃุฉ:
- โ `src/lib/auth.ts` - ุฅุนุฏุงุฏุงุช NextAuth ุงููุงููุฉ
- โ `src/types/next-auth.d.ts` - ุชุนุฑููุงุช TypeScript ูู NextAuth
- โ `src/app/api/auth/[...nextauth]/route.ts` - API endpoint
- โ `src/middleware.ts` - ุญูุงูุฉ ุงูุตูุญุงุช ุญุณุจ ุงูุฃุฏูุงุฑ

#### ุงููููุฒุงุช:
- โ ุชุณุฌูู ุฏุฎูู ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููููุฉ ุงููุฑูุฑ
- โ ุชุณุฌูู ุฏุฎูู ุนุจุฑ Google OAuth
- โ ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcrypt
- โ JWT Sessions
- โ ุญูุงูุฉ ุชููุงุฆูุฉ ููุตูุญุงุช ุญุณุจ ุงูุฏูุฑ
- โ ุฅุนุงุฏุฉ ุชูุฌูู ูููุณุชุฎุฏููู ุญุณุจ ุฃุฏูุงุฑูู

### 3. โ ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ (.env)

ุชู ุฅูุดุงุก ููู `.env` ูุญุชูู ุนูู:
- โ `DATABASE_URL` - ุฑุงุจุท ุงูุงุชุตุงู ุจู MySQL
- โ `NEXTAUTH_URL` - ุนููุงู ุงููุดุฑูุน
- โ `NEXTAUTH_SECRET` - ููุชุงุญ ุงูุชุดููุฑ
- โ `GOOGLE_CLIENT_ID` ู `GOOGLE_CLIENT_SECRET` - ูู OAuth
- โ `GOOGLE_GENAI_API_KEY` - ููุฐูุงุก ุงูุงุตุทูุงุนู

### 4. โ ุชุญุฏูุซ package.json

ุชู ุฅุถุงูุฉ commands ุฌุฏูุฏุฉ:
```json
"db:generate": "prisma generate"      // ุชูููุฏ Prisma Client
"db:push": "prisma db push"           // ุฏูุน Schema ููู database
"db:migrate": "prisma migrate dev"    // ุฅูุดุงุก migrations
"db:seed": "tsx prisma/seed.ts"       // ููุก ุงูุจูุงูุงุช ุงูุฃูููุฉ
"db:studio": "prisma studio"          // ูุชุญ ูุงุฌูุฉ Prisma Studio
```

### 5. โ ุฅูุดุงุก ูุซุงุฆู ุงูุฅุนุฏุงุฏ

- โ `SETUP.md` - ุฏููู ุดุงูู ููุฅุนุฏุงุฏ ูุงูุชุดุบูู

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงููุฑุญูุฉ 2)

### ุงููุทููุจ ุงูุขู:

#### 1. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ

ูู ุจุชูููุฐ ุงูุฃูุงูุฑ ุงูุชุงููุฉ **ุจุงูุชุฑุชูุจ**:

```bash
# 1. ุชุฃูุฏ ูู ุชุดุบูู MySQL
# 2. ุฃูุดุฆ ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -p
CREATE DATABASE smartedu CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
exit;

# 3. ุญุฏุซ ููู .env ุจูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
# DATABASE_URL="mysql://root:ูููุฉ_ุงููุฑูุฑ_ุงูุฎุงุตุฉ_ุจู@localhost:3306/smartedu"

# 4. ุงุฏูุน Schema ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:push

# 5. ุงููุฃ ุงูุจูุงูุงุช ุงูุฃูููุฉ
npm run db:seed
```

ุจุนุฏ ูุฐู ุงูุฎุทูุงุชุ ุณูููู ูุฏูู:
- โ 6 ุฃุฏูุงุฑ ุฌุงูุฒุฉ
- โ 3 ูุฑุงุญู ุฏุฑุงุณูุฉ
- โ 6 ูุณุชููุงุช
- โ 7 ููุงุฏ
- โ 6 ูุณุชุฎุฏููู ููุงุฎุชุจุงุฑ (ูุฏูุฑุ ูุนููุ ูุดุฑูุ ุทุงูุจุงูุ ููู ุฃูุฑ)

#### 2. ุชุญุฏูุซ ุตูุญุงุช ุชุณุฌูู ุงูุฏุฎูู ูุงูุชุณุฌูู

ุณูููู ุจู:
- ๐ฒ ุฑุจุท ุตูุญุฉ `/login` ุจู NextAuth
- ๐ฒ ุฑุจุท ุตูุญุฉ `/signup` ุจุฅูุดุงุก ูุณุชุฎุฏููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ๐ฒ ุชุญุฏูุซ ุตูุญุฉ `/complete-profile` ูููุณุชุฎุฏููู ุงูุฌุฏุฏ ุนุจุฑ Google

#### 3. ุฅูุดุงุก API Routes ุงูุฃุณุงุณูุฉ

ุณูุญุชุงุฌ ูุฅูุดุงุก:

```
src/app/api/
โโโ users/
โ   โโโ route.ts              // GET, POST (ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ)
โ   โโโ [id]/route.ts         // GET, PUT, DELETE
โ   โโโ me/route.ts           // GET (ูุนูููุงุช ุงููุณุชุฎุฏู ุงูุญุงูู)
โโโ lessons/
โ   โโโ route.ts              // GET, POST
โ   โโโ [id]/route.ts         // GET, PUT, DELETE
โโโ exercises/
โ   โโโ route.ts              // GET, POST
โ   โโโ [id]/route.ts         // GET, PUT, DELETE
โโโ submissions/
โ   โโโ route.ts              // GET, POST
โ   โโโ [id]/route.ts         // GET, PUT (ุชูููู)
โโโ stages/
โ   โโโ route.ts              // GET, POST
โ   โโโ [id]/route.ts         // GET, PUT, DELETE
โโโ levels/
โ   โโโ route.ts              // GET, POST
โ   โโโ [id]/route.ts         // GET, PUT, DELETE
โโโ subjects/
โ   โโโ route.ts              // GET, POST
โ   โโโ [id]/route.ts         // GET, PUT, DELETE
โโโ messages/
    โโโ route.ts              // GET, POST
    โโโ [id]/route.ts         // GET, DELETE
```

#### 4. ุงุณุชุจุฏุงู mock-data

ุณูููู ุจู:
- ๐ฒ ุฅูุดุงุก hooks ูุฎุตุตุฉ (useLessons, useExercises, useSubmissions, ุฅูุฎ)
- ๐ฒ ุงุณุชุจุฏุงู ุงุณุชุฏุนุงุกุงุช mock-data ูู ุงููููุจูููุชุงุช
- ๐ฒ ุฅุถุงูุฉ loading states ู error handling

#### 5. ุชุญุฏูุซ ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ

- ๐ฒ ุงุณุชุฎุฏุงู `useSession` ูู NextAuth
- ๐ฒ ุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู ุงูุญููููุฉ
- ๐ฒ ุงูุชูุฌูู ุงูุชููุงุฆู ุญุณุจ ุงูุฏูุฑ

---

## ๐ ุญุงูุฉ ุงููุดุฑูุน ุงูุญุงููุฉ

| ุงููููู | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|--------|--------|-----------|
| Prisma Schema | โ 100% | ุฌุงูุฒ ููุงุณุชุฎุฏุงู |
| NextAuth Setup | โ 100% | ุฌุงูุฒ ููุงุณุชุฎุฏุงู |
| Middleware | โ 100% | ุญูุงูุฉ ุงูุตูุญุงุช ููุนูุฉ |
| Database Seed | โ 100% | ุจูุงูุงุช ุฃูููุฉ ุฌุงูุฒุฉ |
| Login UI | โ๏ธ 80% | ูุญุชุงุฌ ุฑุจุท ุจู NextAuth |
| Signup UI | โ๏ธ 70% | ูุญุชุงุฌ ุฑุจุท ุจู API |
| API Routes | ๐ด 0% | ูู ูุชู ุงูุจุฏุก |
| Frontend Integration | ๐ด 10% | ูุง ูุฒุงู ูุณุชุฎุฏู mock-data |

---

## ๐ง ุงูุฃูุงูุฑ ุงูุณุฑูุนุฉ

```bash
# ุงูุชุทููุฑ
npm run dev                    # ุชุดุบูู ุงููุดุฑูุน
npm run db:studio              # ูุชุญ Prisma Studio

# ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:push                # ุชุทุจูู Schema
npm run db:seed                # ููุก ุงูุจูุงูุงุช
npm run db:generate            # ุชูููุฏ Prisma Client

# ุฅุนุงุฏุฉ ุชุนููู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ููุชุทููุฑ ููุท!)
npx prisma db push --force-reset
npm run db:seed
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ูุง ุชูุณู**:
   - ุชุญุฏูุซ `.env` ุจูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
   - ุชุบููุฑ `NEXTAUTH_SECRET` ุฅูู ูููุฉ ุนุดูุงุฆูุฉ ูููุฉ
   - ุงูุญุตูู ุนูู Google OAuth credentials ุฅุฐุง ุฃุฑุฏุช ุงุณุชุฎุฏุงู Google Sign-in

2. **ููุชุทููุฑ ุงููุญูู**:
   - ุงุณุชุฎุฏู `npm run db:studio` ูุงุณุชุนุฑุงุถ ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุงุณุชุฎุฏู `npm run db:seed` ูุฅุนุงุฏุฉ ููุก ุงูุจูุงูุงุช

3. **ุงูุฃูุงู**:
   - ูุง ุชุฑูุน ููู `.env` ุฅูู Git
   - ุงุณุชุฎุฏู ูููุงุช ูุฑูุฑ ูููุฉ ูู ุงูุฅูุชุงุฌ
   - ุบููุฑ ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ ูุจู ุงููุดุฑ

---

## ๐ ูู ุชุญุชุงุฌ ูุณุงุนุฏุฉุ

### ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:

**ุฎุทุฃ: Cannot connect to database**
```bash
# ุชุฃูุฏ ูู ุชุดุบูู MySQL
# ุชุฃูุฏ ูู ุตุญุฉ DATABASE_URL ูู .env
```

**ุฎุทุฃ: Prisma Client not found**
```bash
npm run db:generate
```

**ุฎุทุฃ: NextAuth configuration**
```bash
# ุชุฃูุฏ ูู ูุฌูุฏ NEXTAUTH_SECRET ูู .env
# ุชุฃูุฏ ูู ุตุญุฉ NEXTAUTH_URL
```

---

## ๐ ุงูุฎุทูุฉ ุงูุชุงููุฉ

**ูุจุฏุก ุชุทููุฑ ุงููุฑุญูุฉ 2**ุ ุฃุฎุจุฑูู ุนูุฏูุง ุชููู ุฌุงูุฒุงู ูุณุฃุจุฏุฃ ุจู:
1. ุชุญุฏูุซ ุตูุญุงุช ุชุณุฌูู ุงูุฏุฎูู/ุงูุชุณุฌูู
2. ุฅูุดุงุก API Routes ุงูุฃุณุงุณูุฉ
3. ุฑุจุท ุงููุงุฌูุงุช ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ:** ${new Date().toLocaleDateString('ar-SA')}
**ุงูุฅุตุฏุงุฑ:** 1.0.0 - ุงููุฑุญูุฉ ุงูุฃููู ููุชููุฉ โ
