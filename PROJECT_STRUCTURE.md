# ๐๏ธ ูููููุฉ ูุดุฑูุน SmartEdu

ูุฐุง ุงููุณุชูุฏ ููุซู ุงููููููุฉ ุงูุญุงููุฉ ูููุดุฑูุนุ ูุชูุฒูุน ุงููููุงุช ุญุณุจ ุงูุฃุฏูุงุฑ (Roles)ุ ููุธุงุฆู ุงููุงุฌูุฉ ุงูุฎูููุฉ (Backend API).

---

## 1. ุงููุฌูุฏุงุช ุงูุฃุณุงุณูุฉ (Core Directories)

| ุงููุณุงุฑ | ุงููุตู |
| :--- | :--- |
| `src/app` | ูุญุชูู ุนูู ุตูุญุงุช ุงููููุน (Pages) ููุณุงุฑุงุช ุงูู API. |
| `src/components` | ููููุงุช ุงููุงุฌูุฉ (UI Components) ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู. |
| `src/lib` | ููุชุจุงุช ูุณุงุนุฏุฉุ ุฅุนุฏุงุฏุงุช Prismaุ ุฏูุงู ูุณุงุนุฏุฉ (Utils). |
| `src/hooks` | ุฎุทุงูุงุช React ูุฎุตุตุฉ (Custom Hooks) ูุฌูุจ ุงูุจูุงูุงุช ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ. |
| `src/ai` | ููุทู ุงูุฐูุงุก ุงูุงุตุทูุงุนู (Genkit Flows). |
| `prisma/` | ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช (Schema) ูุณูุฑุจุชุงุช ุงูุชููุฆุฉ (Seeds). |

---

## 2. ูุณุงุฑุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend Routes)

### ๐ ุงููุตุงุฏูุฉ (Authentication)
*   `/login`: ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู.
*   `/signup`: ุตูุญุฉ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ.
*   `/complete-profile`: ุงุณุชููุงู ุจูุงูุงุช ุงูููู ุงูุดุฎุตู (ูููุณุฌููู ุนุจุฑ Google).

### ๐ค ุตูุญุงุช ูุดุชุฑูุฉ (Common)
*   `/`: ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Landing Page).
*   `/profile`: ุงูููู ุงูุดุฎุตู ูุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ.
*   `/messages`: ูุธุงู ุงููุฑุงุณูุฉ ุงูุฏุงุฎูู.

### ๐ฎโโ๏ธ ููุญุฉ ุงููุฏูุฑ (Directeur Portal)
**ุงููุณุงุฑ ุงูุฃุณุงุณู:** `/dashboard/directeur`

| ุงููุณุงุฑ ุงููุฑุนู | ุงููุธููุฉ | ุงูููู |
| :--- | :--- | :--- |
| `/` | ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ ูุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ. | `_components/DirecteurDashboard.tsx` |
| `/users` | ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ุฅุถุงูุฉุ ุชุนุฏููุ ุญุฐูุ ุญุธุฑ). | `users/page.tsx` |
| `/content` | ุฅุฏุงุฑุฉ ุงููููู ุงูุชุนูููู (ุงููุฑุงุญูุ ุงููุณุชููุงุชุ ุงูููุงุฏ). | `content/page.tsx` |
| `/database` | ูุญุต ูุชุตุฏูุฑ ุจูุงูุงุช ุงูุฌุฏุงูู. | `database/page.tsx` |
| `/backup` | ุฅุฏุงุฑุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงุณุชุนุงุฏุฉ ุงููุธุงู. | `backup/page.tsx` |
| `/logs` | ุณุฌูุงุช ุงููุธุงู (Audit Logs). | `logs/page.tsx` |
| `/promotions` | ุฅุฏุงุฑุฉ ุงูุณููุงุช ุงูุฏุฑุงุณูุฉ ูุชุฑููุฉ ุงูุทูุงุจ. | `promotions/page.tsx` |
| `/broadcast` | ุฅุฑุณุงู ุฑุณุงุฆู ุฌูุงุนูุฉ. | `broadcast/page.tsx` |
| `/settings` | ุฅุนุฏุงุฏุงุช ุงูููุตุฉ ุงูุนุงูุฉ. | `settings/page.tsx` |

### ๐จโ๐ซ ููุญุฉ ุงููุนูู (Teacher Portal)
**ุงููุณุงุฑ ุงูุฃุณุงุณู:** `/dashboard/teacher`

| ุงููุณุงุฑ ุงููุฑุนู | ุงููุธููุฉ | ุงูููู |
| :--- | :--- | :--- |
| `/` | ููุญุฉ ุงูุชุญูู (ููุฎุต ุงูุฏุฑูุณ ูุงูุทูุงุจ). | `_components/TeacherDashboard.tsx` |
| `/lessons` | ูุงุฆูุฉ ุงูุฏุฑูุณ ุงูุฎุงุตุฉ ุจุงููุนูู. | `lessons/page.tsx` |
| `/lessons/create` | ุฅูุดุงุก ุฏุฑุณ ุฌุฏูุฏ. | `lessons/create/page.tsx` |
| `/lessons/[id]/edit` | ุชุนุฏูู ุฏุฑุณ ููุฌูุฏ. | `lessons/[id]/edit/page.tsx` |
| `/exercises` | ุจูู ุงูุชูุงุฑูู. | `exercises/page.tsx` |
| `/exercises/create` | ุฅูุดุงุก ุชูุฑูู ุฌุฏูุฏ. | `exercises/create/page.tsx` |
| `/students` | ูุงุฆูุฉ ุงูุทูุงุจ ุงููุฑุชุจุทูู ุจุงููุนูู. | `students/page.tsx` |
| `/submissions` | ุชุตุญูุญ ุฅุฌุงุจุงุช ุงูุทูุงุจ. | `submissions/page.tsx` |
| `/my-code` | ุนุฑุถ ูุชูููุฏ ููุฏ ุงูุฑุจุท ุงูุฎุงุต ุจุงููุนูู. | `my-code/page.tsx` |

### ๐จโ๐ ููุญุฉ ุงูุทุงูุจ (Student Portal)
**ุงููุณุงุฑ ุงูุฃุณุงุณู:** `/dashboard/student`

| ุงููุณุงุฑ ุงููุฑุนู | ุงููุธููุฉ | ุงูููู |
| :--- | :--- | :--- |
| `/` | ููุญุฉ ุงูุชุญูู (ุงูุชูุฏูุ ุขุฎุฑ ุงูุฏุฑูุณ). | `_components/StudentDashboard.tsx` |
| `/progress` | ุชูุงุฑูุฑ ุงูุชูุฏู ุงูุฏุฑุงุณู. | `progress/page.tsx` |
| `/results` | ูุชุงุฆุฌ ุงูุชูุงุฑูู ูุงูุงุฎุชุจุงุฑุงุช. | `results/page.tsx` |
| **ุฎุงุฑุฌ ุงูููุญุฉ:** | | |
| `/subjects` | ุชุตูุญ ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ. | `src/app/(main)/subjects/page.tsx` |
| `/subjects/[id]` | ุนุฑุถ ุฏุฑูุณ ูุงุฏุฉ ูุนููุฉ. | `src/app/(main)/subjects/[id]/page.tsx` |
| `/lessons/[id]` | ุนุฑุถ ุงูุฏุฑุณ ูุญู ุงูุชูุงุฑูู. | `src/app/(main)/lessons/[id]/page.tsx` |

### ๐จโ๐ฉโ๐งโ๐ฆ ููุญุฉ ููู ุงูุฃูุฑ (Parent Portal)
**ุงููุณุงุฑ ุงูุฃุณุงุณู:** `/dashboard/parent`

| ุงููุณุงุฑ ุงููุฑุนู | ุงููุธููุฉ | ุงูููู |
| :--- | :--- | :--- |
| `/` | ููุญุฉ ุงูุชุญูู (ููุฎุต ุนู ุงูุฃุจูุงุก). | `_components/ParentDashboard.tsx` |
| `/children` | ูุงุฆูุฉ ุงูุฃุจูุงุก. | `children/page.tsx` |
| `/children/[id]` | ุชูุงุตูู ุฃุฏุงุก ุงุจู ูุญุฏุฏ. | `children/[id]/page.tsx` |
| `/reports` | ุชูุงุฑูุฑ ููุงุฑูุฉ ุงูุฃุฏุงุก. | `reports/page.tsx` |
| `/notifications` | ุฅุดุนุงุฑุงุช ุงูุฃูุดุทุฉ ูุงููุชุงุฆุฌ. | `notifications/page.tsx` |

### ๐ต๏ธโโ๏ธ ููุญุฉ ูุดุฑู ุงููุงุฏุฉ (Subject Supervisor Portal)
**ุงููุณุงุฑ ุงูุฃุณุงุณู:** `/dashboard/subject-supervisor`

| ุงููุณุงุฑ ุงููุฑุนู | ุงููุธููุฉ | ุงูููู |
| :--- | :--- | :--- |
| `/` | ููุญุฉ ุงูุชุญูู (ุฅุญุตุงุฆูุงุช ุงููุงุฏุฉ). | `_components/SubjectSupervisorDashboard.tsx` |
| `/lessons` | ุฅุฏุงุฑุฉ ุงูุฏุฑูุณ ุงูุนุงูุฉ ูููุงุฏุฉ. | `lessons/page.tsx` |
| `/exercises` | ุฅุฏุงุฑุฉ ุงูุชูุงุฑูู ุงูุนุงูุฉ. | `exercises/page.tsx` |
| `/statistics` | ุฅุญุตุงุฆูุงุช ุงููุนูููู ูุงูุทูุงุจ ูู ุงููุงุฏุฉ. | `statistics/page.tsx` |
| `/submissions` | ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช (ุฅู ูุฌุฏ). | `submissions/page.tsx` |

---

## 3. ูุณุงุฑุงุช ุงููุงุฌูุฉ ุงูุฎูููุฉ (Backend API Routes)

### ๐ ุงููุตุงุฏูุฉ ูุงููุณุชุฎุฏููู
*   `POST /api/auth/signup`: ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ.
*   `GET /api/users`: ุฌูุจ ุงููุณุชุฎุฏููู (ูููุฏูุฑ).
*   `GET /api/profile`: ุฌูุจ ุงูููู ุงูุดุฎุตู ุงูุญุงูู.
*   `POST /api/users/generate-teacher-code`: ุชูููุฏ ููุฏ ุงููุนูู.
*   `POST /api/parents/generate-code`: ุชูููุฏ ููุฏ ููู ุงูุฃูุฑ.

### ๐ ุงููุญุชูู ุงูุชุนูููู
*   `GET/POST /api/stages`: ุฅุฏุงุฑุฉ ุงููุฑุงุญู.
*   `GET/POST /api/levels`: ุฅุฏุงุฑุฉ ุงููุณุชููุงุช.
*   `GET/POST /api/subjects`: ุฅุฏุงุฑุฉ ุงูููุงุฏ.
*   `GET/POST/PUT/DELETE /api/lessons`: ุฅุฏุงุฑุฉ ุงูุฏุฑูุณ (CRUD).
*   `GET/POST/PUT/DELETE /api/exercises`: ุฅุฏุงุฑุฉ ุงูุชูุงุฑูู (CRUD).

### ๐ ุงูุชูุงุนู ูุงูุชูููู
*   `POST /api/submissions`: ุฅุฑุณุงู ุฅุฌุงุจุฉ ุทุงูุจ.
*   `POST /api/submissions/[id]/evaluate`: ุทูุจ ุชูููู AI ููุฅุฌุงุจุฉ.
*   `PATCH /api/submissions/[id]`: ุชุตุญูุญ ูุฏูู ูู ุงููุนูู.
*   `GET /api/students/stats`: ุฅุญุตุงุฆูุงุช ุงูุทุงูุจ.
*   `GET /api/students/progress`: ุชูุฏู ุงูุทุงูุจ ูู ุงูููุงุฏ.

### ๐ค ุงูุฐูุงุก ุงูุงุตุทูุงุนู (AI)
*   `POST /api/ai/generate-answer`: ุชูููุฏ ุฅุฌุงุจุฉ ูููุฐุฌูุฉ ูุชูุฑูู.
*   `POST /api/ai/evaluate-answer`: ุชูููู ุฅุฌุงุจุฉ ุงูุทุงูุจ.

### ๐ ุงูุนูุงูุงุช ูุงูุฑุจุท
*   `POST /api/students/connect-teacher`: ุฑุจุท ุทุงูุจ ุจูุนูู.
*   `POST /api/students/connect-parent`: ุฑุจุท ุทุงูุจ ุจููู ุฃูุฑ.
*   `GET /api/students/teachers`: ุฌูุจ ูุนููู ุงูุทุงูุจ.
*   `GET /api/parents/children`: ุฌูุจ ุฃุจูุงุก ููู ุงูุฃูุฑ.

### ๐๏ธ ุงููุธุงู ูุงูุฅุฏุงุฑุฉ
*   `GET /api/logs`: ุณุฌูุงุช ุงููุธุงู.
*   `POST /api/upload`: ุฑูุน ุงููููุงุช (Google Drive).
*   `POST /api/backup/export`: ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ.
*   `POST /api/backup/import`: ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ.
*   `POST /api/academic-years/promotions/initiate`: ุจุฏุก ุนูููุฉ ุงูุชุฑููุฉ ุงูุณูููุฉ.

---

## 4. ุงูููููุงุช ุงูุฑุฆูุณูุฉ (Key Components)

### ุงููุญุฑุฑ (Editor)
*   `src/components/editor/RichTextEditor.tsx`: ุงููุญุฑุฑ ุงูุฑุฆูุณู (Tiptap).
*   `src/components/editor/extensions/MathComponent.tsx`: ูููู React ูุนุฑุถ ุงููุนุงุฏูุงุช (MathLive).
*   `src/components/editor/MathSymbolsToolbar.tsx`: ุดุฑูุท ุฃุฏูุงุช ุงูุฑููุฒ ุงูุฑูุงุถูุฉ.

### ุฃุฎุฑู
*   `src/components/FileUpload.tsx`: ูููู ุฑูุน ุงููููุงุช ูุน ุดุฑูุท ุงูุชูุฏู.
*   `src/components/MathContent.tsx`: ุนุฑุถ ุงููุญุชูู ุงูุฑูุงุถู (KaTeX).
*   `src/components/PromotionGuard.tsx`: ูุงูุฐุฉ ููุจุซูุฉ ูุฅุฌุจุงุฑ ููู ุงูุฃูุฑ ุนูู ุงูุฑุฏ ุนูู ุงูุชุฑููุงุช.

---

## 5. ุงูููุชุจุงุช ูุงูุฎุฏูุงุช (Libraries)
*   `src/lib/prisma.ts`: ุฅุนุฏุงุฏ Prisma Client.
*   `src/lib/google-drive.ts`: ุงูุชุนุงูู ูุน Google Drive API (ุฑูุนุ ุฅูุดุงุก ูุฌูุฏุงุช).
*   `src/lib/auth.ts`: ุฅุนุฏุงุฏุงุช NextAuth.
*   `src/lib/logger.ts`: ูุธุงู ุชุณุฌูู ุงูุฃุญุฏุงุซ (Logging System).


---
*ุชู ุงูุชุญุฏูุซ ุจูุงุกู ุนูู ุชุญููู ูููุงุช ุงููุดุฑูุน ุจุชุงุฑูุฎ: 2025-01-07*