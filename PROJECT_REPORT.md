# تقرير حالة مشروع SmartEdu

## 1. نظرة عامة
مشروع **SmartEdu** هو منصة تعليمية متكاملة (LMS) مبنية باستخدام أحدث تقنيات الويب (**Next.js 15**, **React 19**). يهدف النظام إلى إدارة العملية التعليمية بشكل شامل يربط بين المدراء، المشرفين، المعلمين، الطلاب، وأولياء الأمور. يتميز النظام بتكامل عميق مع **Google Drive** لتخزين الملفات ونظام ذكاء اصطناعي لتقييم الإجابات.

## 2. البنية التقنية (Architecture)
- **الإطار العمل:** Next.js 15 (App Router) مع TypeScript لضمان الأداء والأمان.
- **قاعدة البيانات:** Prisma ORM (مع MySQL) لإدارة العلاقات المعقدة بين الجداول.
- **المصادقة:** NextAuth.js v4 مع دعم تعدد الأدوار (RBAC) وحماية المسارات عبر Middleware.
- **التخزين السحابي:** نظام مخصص للتعامل مع Google Drive API يتضمن:
  - **Proxy Server:** لتجاوز قيود عرض الصور (403 Forbidden) ومشاكل الكوكيز.
  - **Resiliency:** آليات إعادة المحاولة (Retry Logic) والتعامل مع أخطاء الشبكة.
  - **Hierarchy Management:** إدارة تلقائية للمجلدات (مرحلة -> مستوى -> مادة).
- **الواجهة:** Tailwind CSS مع مكتبة shadcn/ui ومكونات مخصصة (مثل FileUpload).

## 3. الوحدات المنجزة والميزات

### أ. وحدة إدارة المحتوى (Content Management)
- **الدروس:** إنشاء وتعديل الدروس باستخدام محرر نصوص غني (Rich Text Editor).
- **المرفقات:** دعم رفع الصور، ملفات PDF، وPowerPoint مع معاينة فورية.
- **الفيديو:** تضمين فيديوهات تعليمية (YouTube Embed).

### ب. وحدة الأدوار والصلاحيات
1. **المدير (Directeur):** إدارة الهيكل الأكاديمي (المراحل، المستويات، المواد) وإنشاؤها تلقائياً في Google Drive.
2. **المشرف (Supervisor):** إنشاء دروس عامة للمواد والمستويات المسؤولة عنها.
3. **المعلم (Teacher):** إنشاء دروس خاصة لطلابه، ومراجعة التمارين.
4. **الطالب (Student):** استعراض الدروس، حل التمارين، والحصول على تقييم.

### ج. وحدة الذكاء الاصطناعي (AI Integration)
- تقييم تلقائي لإجابات الطلاب ومقارنتها بالإجابة النموذجية.
- تقديم تغذية راجعة (Feedback) ونقاط القوة والضعف.

## 4. إحصائيات الكود (Code Statistics)
- **عدد مسارات API:** أكثر من 50 مسار (تقديري) تغطي العمليات الأساسية (CRUD).
- **مكونات الواجهة:** استخدام مكثف للمكونات القابلة لإعادة الاستخدام (`Card`, `Button`, `Input`, `FileUpload`).
- **الأمان:** تطبيق مبدأ "الحد الأدنى من الامتيازات" في جميع مسارات API والـ Middleware.

## 5. نسب الإنجاز التقديرية (Completion Rates)

| الوحدة | نسبة الإنجاز | الملاحظات |
| :--- | :---: | :--- |
| **البنية التحتية (Backend & DB)** | **95%** | الاتصال بقاعدة البيانات، المصادقة، وتكامل Google Drive مكتمل ومستقر. |
| **إدارة الملفات (File System)** | **98%** | تم حل مشاكل العرض والبروكسي والرفع الهرمي بنجاح تام. |
| **واجهة المعلم (Teacher Portal)** | **90%** | إنشاء الدروس، التعديل، والمراجعة تعمل بكفاءة. |
| **واجهة المشرف (Supervisor Portal)** | **85%** | تم تحديث صفحات الإنشاء والتعديل لتطابق كفاءة المعلم. |
| **واجهة الطالب (Student Portal)** | **80%** | عرض الدروس والتمارين يعمل، قد يحتاج لتحسينات في تجربة المستخدم. |
| **واجهة المدير (Admin Portal)** | **85%** | إدارة الهيكل الأكاديمي تعمل، ربما تحتاج لتقارير إحصائية إضافية. |
| **الذكاء الاصطناعي (AI)** | **75%** | التقييم يعمل، يمكن تحسين دقة النتائج مستقبلاً. |

---
**التقييم العام للمشروع:** **87%** (مرحلة متقدمة جداً وجاهز للاختبار الميداني).